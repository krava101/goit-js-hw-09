{"version":3,"file":"commonHelpers2.js","sources":["../src/js/02-form.js"],"sourcesContent":["const form = document.querySelector(\".feedback-form\");\nconst email = form.elements.email;\nconst message = form.elements.message;\nconst LOCAL_FEEDBACK_KEY = \"feedback-form-state\";\n\nconst withOutSpace = e => e.replace(/\\s/g, \"\");\nconst updStorageInfo = () => {\n    try {\n        return JSON.parse(localStorage.getItem(LOCAL_FEEDBACK_KEY))\n    } catch (error) {\n        console.error(error);\n    }\n};\nconst savedFeedback = updStorageInfo();\nconst feedback = {};\n\nif (localStorage.length !== 0) {\n    email.value = savedFeedback.email;\n    message.value = savedFeedback.message;\n}\n\nconst formInput = event => {\n    feedback[email.name] = email.value;\n    feedback[message.name] = message.value;\n    localStorage.setItem(LOCAL_FEEDBACK_KEY, JSON.stringify(feedback));\n}\n\nconst formSubmit = event => {\n    event.preventDefault();\n    if (withOutSpace(email.value) === \"\" || withOutSpace(message.value) === \"\") {\n        alert('All form fields must be filled in');\n    } else {\n        form.reset();\n        console.table(updStorageInfo());\n        localStorage.removeItem(LOCAL_FEEDBACK_KEY);\n    }\n}\n\nform.addEventListener(\"input\", formInput);\nform.addEventListener(\"submit\", formSubmit);"],"names":["form","email","message","LOCAL_FEEDBACK_KEY","withOutSpace","updStorageInfo","error","savedFeedback","feedback","formInput","event","formSubmit"],"mappings":"wFAAA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAQD,EAAK,SAAS,MACtBE,EAAUF,EAAK,SAAS,QACxBG,EAAqB,sBAErBC,EAAe,GAAK,EAAE,QAAQ,MAAO,EAAE,EACvCC,EAAiB,IAAM,CACzB,GAAI,CACA,OAAO,KAAK,MAAM,aAAa,QAAQF,CAAkB,CAAC,CAC7D,OAAQG,EAAP,CACE,QAAQ,MAAMA,CAAK,CACtB,CACL,EACMC,EAAgBF,EAAc,EAC9BG,EAAW,CAAA,EAEb,aAAa,SAAW,IACxBP,EAAM,MAAQM,EAAc,MAC5BL,EAAQ,MAAQK,EAAc,SAGlC,MAAME,EAAYC,GAAS,CACvBF,EAASP,EAAM,MAAQA,EAAM,MAC7BO,EAASN,EAAQ,MAAQA,EAAQ,MACjC,aAAa,QAAQC,EAAoB,KAAK,UAAUK,CAAQ,CAAC,CACrE,EAEMG,EAAaD,GAAS,CACxBA,EAAM,eAAc,EAChBN,EAAaH,EAAM,KAAK,IAAM,IAAMG,EAAaF,EAAQ,KAAK,IAAM,GACpE,MAAM,mCAAmC,GAEzCF,EAAK,MAAK,EACV,QAAQ,MAAMK,EAAc,CAAE,EAC9B,aAAa,WAAWF,CAAkB,EAElD,EAEAH,EAAK,iBAAiB,QAASS,CAAS,EACxCT,EAAK,iBAAiB,SAAUW,CAAU"}